---
layout: base
title: 五年日记 · 今日
---

{% assign today_md = site.time | date: "%m-%d" %}
{% assign start_year = site.time | date: "%Y" | plus: 0 | minus: 2 %}
{% assign years = "" | split: "" %}
{% for i in (0..4) %}
  {% assign y = start_year | plus: i %}
  {% assign years = years | push: y %}
{% endfor %}

<div class="title">{{ site.time | date: "%-m月%-d日" }}（五年视图）</div>

<div class="toolbar">
 
  <a class="btn" href="https://github.com/{{ site.github.repository_nwo }}/new/main/_posts?filename={{ site.time | date: '%Y-%m-%d' }}.md">
    新建今天的日记（GitHub）
  </a>
</div>

<div class="grid">
  {% for y in years %}
    {% assign key = y | append: "-" | append: today_md %}
    {% assign post = site.posts | where_exp:"p","p.date | date: '%Y-%m-%d' == key" | first %}
    <div class="row">
      <div class="year">{{ y }}</div>
      <div class="content">
        {% if post %}
          {{ post.content | strip_newlines }}
          <div class="tip">
            {% assign display = post.title %}
            {% if display == nil or display == "" %}
              {% assign display = post.date | date: "%Y-%m-%d" %}
            {% endif %}
            来自：<a href="{{ post.url }}">{{ display }}</a>
          </div>
        {% else %}
          <span class="empty">（这一天还没有记录）</span>
        {% endif %}
      </div>
    </div>
  {% endfor %}
</div>

<p class="tip">写作方式：在仓库的 <code>_posts</code> 目录按 <code>YYYY-MM-DD.md</code> 新建/编辑 Markdown，保存后 GitHub Pages 会自动更新。</p>
